# Template conversion

![python](https://img.shields.io/github/pipenv/locked/python-version/earthquake-alert/template-conversion?style=flat-square)
![license](https://img.shields.io/github/license/earthquake-alert/template-conversion?style=flat-square)

ğŸ‡¯ğŸ‡µ| [ğŸ‡ºğŸ‡¸](documents/README_en.md)

![title](assets/title.png)

## tl;dr

- URLã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«ã€å…¥åŠ›ã—ãŸå†…å®¹ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é©ç”¨ã•ã›ã¾ã™ã€‚
- Seleniumãªã©ã§ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’ã™ã‚‹ã¨ç°¡å˜ã«ç”»åƒã¨ã—ã¦ä¿å­˜ã§ãã¾ã™ã€‚

## ğŸ’»ä½¿ã„æ–¹

- Docker, docker-composeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚

```bash
docker-compose up -d
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆURL: `http://localhost:5000/template`\
éœ‡åº¦é€Ÿå ±ï¼ˆéœ‡æºãƒ»ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰ãªã—ï¼‰: `http://localhost:5000/report`

### ğŸ“’ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®èª¬æ˜

ä¾‹: `http://localhost:5000/template?ti=éœ‡æºãƒ»éœ‡åº¦ã«é–¢ã™ã‚‹æƒ…å ±&areas={'éœ‡åº¦ï¼”': ['æ¾å³¶å¸‚'],'éœ‡åº¦ï¼“':['ä¸€é–¢å¸‚', 'ä»™å°å®®åŸé‡åŒº', 'è‹¥æ—åŒº', 'ä»™å°æ³‰åŒº', 'çŸ³å·»å¸‚', 'ç™½çŸ³å¸‚', 'åå–å¸‚', 'è§’ç”°å¸‚', 'å²©æ²¼å¸‚', 'ç™»ç±³å¸‚']}&exp=['ï¼‘ï¼˜æ—¥ï¼‘ï¼’æ™‚ï¼ï¼åˆ†ã“ã‚ã€åœ°éœ‡ãŒã‚ã‚Šã¾ã—ãŸã€‚', 'ã“ã®åœ°éœ‡ã«ã‚ˆã‚‹æ´¥æ³¢ã®å¿ƒé…ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚']&max_si=4&epi=å®®åŸçœŒæ²–&mag=5.2`

![image](assets/demo_2.png)

- `ti`
  - ã‚¿ã‚¤ãƒˆãƒ«ã€‚ç·Šæ€¥åœ°éœ‡é€Ÿå ±ã‚„åœ°éœ‡é€Ÿå ±ãªã©ã€‚
- `areas`
  - åœ°éœ‡ã®ç™ºç”Ÿã‚¨ãƒªã‚¢ã€‚ç”»åƒã§ã¯ç·‘ã®ã¨ã“ã‚ã€‚
  - `Dict[str, List[str]]`ã§è¨˜è¿°ã€‚

    ```json
    {
        "éœ‡åº¦~": [
            "ã‚¨ãƒªã‚¢1",
            "ã‚¨ãƒªã‚¢2",
            "ã‚¨ãƒªã‚¢3",
            ...
        ],
        "éœ‡åº¦~": [
            "ã‚¨ãƒªã‚¢4",
            "ã‚¨ãƒªã‚¢5",
            "ã‚¨ãƒªã‚¢6",
            "ã‚¨ãƒªã‚¢7",
            "ã‚¨ãƒªã‚¢8",
            ...
        ]
        ...
    }
    ```

- `exp`
  - èª¬æ˜ã€‚2ã¤ä»¥ä¸Šå¿…è¦ã§ã™ã€‚
  - æœ€åˆã®1ã¤ç›®ã¯å³ã®ãƒˆãƒƒãƒ—ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
  - 2å€‹ç›®ä»¥ä¸Šã¯å·¦å´ã«ã€è¦ç´ åˆ¥ã«Boxã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

    ```json
    [
        "èª¬æ˜",
        "èª¬æ˜2",
        ...
    ]
    ```

- `max_si`
  - æœ€å¤§éœ‡åº¦
  - `0, 1, 2, 3, 4, 5å¼±, 5å¼·, 6å¼±, 6å¼·, 7`ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚ï¼ˆæ•°å­—ã®å…¨è§’å¯ï¼‰
  - æœ€å¤§éœ‡åº¦ã«ã‚ˆã‚ŠèƒŒæ™¯è‰²ãŒå¤‰ã‚ã‚Šã¾ã™ãŒã€æ­£ã—ããªã„éœ‡åº¦ãŒå…¥åŠ›ã•ã‚ŒãŸå ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
    ![image](assets/demo_3.png)
- `epi`
  - éœ‡æºåœ°
- `mag`
  - ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰

### ğŸ¨éœ‡åº¦è‰²

| éœ‡åº¦  |                                    è‰²                                     |
| :---: | :-----------------------------------------------------------------------: |
|   0   | ![#e1e2e3](https://via.placeholder.com/15/d9d9d9/000000?text=+) `#d9d9d9` |
|   1   | ![#54cfe8](https://via.placeholder.com/15/54cfe8/000000?text=+) `#54cfe8` |
|   2   | ![#64e375](https://via.placeholder.com/15/64e375/000000?text=+) `#64e375` |
|   3   | ![#f0ed4d](https://via.placeholder.com/15/f0ed4d/000000?text=+) `#f0ed4d` |
|   4   | ![#eb9423](https://via.placeholder.com/15/eb9423/000000?text=+) `#eb9423` |
|  5-   | ![#f74d4d](https://via.placeholder.com/15/f74d4d/000000?text=+) `#f74d4d` |
|  5+   | ![#f74d4d](https://via.placeholder.com/15/f74d4d/000000?text=+) `#f74d4d` |
|  6-   | ![#f03eb8](https://via.placeholder.com/15/f03eb8/000000?text=+) `#f03eb8` |
|  6+   | ![#f03eb8](https://via.placeholder.com/15/f03eb8/000000?text=+) `#f03eb8` |
|   7   | ![#b347ed](https://via.placeholder.com/15/b347ed/000000?text=+) `#b347ed` |
| None  | ![#000000](https://via.placeholder.com/15/000000/000000?text=+) `#000000` |

### âš–ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](LICENSE)ä¸Šã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚
