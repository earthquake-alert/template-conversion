# template-conversion

![python](https://img.shields.io/github/pipenv/locked/python-version/earthquake-alert/template-conversion?style=flat-square)
![license](https://img.shields.io/github/license/earthquake-alert/template-conversion?style=flat-square)

ğŸ‡¯ğŸ‡µ| [ğŸ‡ºğŸ‡¸](documents/README_en.md)

![image](assets/demo_1.png)

## tl;dr

- URLã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«å…¥åŠ›ã—ãŸå†…å®¹ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é©ç”¨ã•ã›ã¾ã™ã€‚
- Seleniumãªã©ã§ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚’ã™ã‚‹ã¨ç°¡å˜ã«ç”»åƒã¨ã—ã¦ä¿å­˜ã§ãã¾ã™ã€‚

## ğŸ’»ä½¿ã„æ–¹

1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   - python3ã€ãŠã‚ˆã³pipãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚

    ```bash
    # pipã‚’ä½¿ç”¨ã—ã¦pipenvã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
    pip install pipenv

    # case.1 pipenvã®ä»®æƒ³ç’°å¢ƒä¸Šã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ & ä»®æƒ³ç’°å¢ƒã‚’ç«‹ã¡ä¸Šã’ã‚‹
    pipenv install
    pipenv shell

    # ã‚·ã‚¹ãƒ†ãƒ ä¸Šã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ï¼ˆpipã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ“ä½œå¯ï¼‰
    pipenv install --system --deploy
    ```

2. èµ·å‹•ã™ã‚‹

    ```bash
    python src/main.py
    ```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆURL: `http://localhost:5000/template`

### ğŸ“’ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¬æ˜

ä¾‹: `http://localhost:5000/template?ti=éœ‡æºãƒ»éœ‡åº¦ã«é–¢ã™ã‚‹æƒ…å ±&areas={'éœ‡åº¦ï¼”': ['æ¾å³¶å¸‚'],'éœ‡åº¦ï¼“':['ä¸€é–¢å¸‚', 'ä»™å°å®®åŸé‡åŒº', 'è‹¥æ—åŒº', 'ä»™å°æ³‰åŒº', 'çŸ³å·»å¸‚', 'ç™½çŸ³å¸‚', 'åå–å¸‚', 'è§’ç”°å¸‚', 'å²©æ²¼å¸‚', 'ç™»ç±³å¸‚']}&exp=['ï¼‘ï¼˜æ—¥ï¼‘ï¼’æ™‚ï¼ï¼åˆ†ã“ã‚ã€åœ°éœ‡ãŒã‚ã‚Šã¾ã—ãŸã€‚', 'ã“ã®åœ°éœ‡ã«ã‚ˆã‚‹æ´¥æ³¢ã®å¿ƒé…ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚']&max_si=4&epi=å®®åŸçœŒæ²–&mag=5.2`

![image](assets/demo_2.png)

- `ti`
  - ã‚¿ã‚¤ãƒˆãƒ«ã€‚ç·Šæ€¥åœ°éœ‡é€Ÿå ±ã‚„åœ°éœ‡é€Ÿå ±ãªã©ã€‚
- `areas`
  - åœ°éœ‡ã®ç™ºç”Ÿã‚¨ãƒªã‚¢ã€‚ç”»åƒã§ã¯ç·‘ã®ã¨ã“ã‚ã€‚
  - `Dict[str, List[str]]`ã§è¨˜è¿°ã€‚

    ```json
    {
        "éœ‡åº¦~": [
            "ã‚¨ãƒªã‚¢1",
            "ã‚¨ãƒªã‚¢2",
            "ã‚¨ãƒªã‚¢3",
            ...
        ],
        "éœ‡åº¦~": [
            "ã‚¨ãƒªã‚¢4",
            "ã‚¨ãƒªã‚¢5",
            "ã‚¨ãƒªã‚¢6",
            "ã‚¨ãƒªã‚¢7",
            "ã‚¨ãƒªã‚¢8",
            ...
        ]
        ...
    }
    ```

- `exp`
  - èª¬æ˜ã€‚2ã¤ä»¥ä¸Šå¿…è¦ã§ã™ã€‚
  - æœ€åˆã®ï¼‘ã¤ç›®ã¯å³ã®ãƒˆãƒƒãƒ—ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
  - 2å€‹ç›®ä»¥ä¸Šã¯å·¦å´ã«è¦ç´ åˆ¥ã«Boxã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

    ```json
    [
        "èª¬æ˜",
        "èª¬æ˜2",
        ...
    ]
    ```

- `max_si`
  - æœ€å¤§éœ‡åº¦
  - `0, 1, 2, 3, 4, 5å¼±, 5å¼·, 6å¼±, 6å¼·, 7`ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚ï¼ˆæ•°å­—ã®å…¨è§’å¯ï¼‰
  - æœ€å¤§éœ‡åº¦ã«ã‚ˆã‚ŠèƒŒæ™¯è‰²ãŒå¤‰ã‚ã‚Šã¾ã™ãŒã€æ­£ã—ããªã„éœ‡åº¦ãŒå…¥åŠ›ã•ã‚ŒãŸå ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
    ![image](assets/demo_3.png)
- `epi`
  - éœ‡æºåœ°
- `mag`
  - ãƒã‚°ãƒ‹ãƒãƒ¥ãƒ¼ãƒ‰

### ğŸ¨éœ‡åº¦è‰²

| éœ‡åº¦  |                                    è‰²                                     |
| :---: | :-----------------------------------------------------------------------: |
|   0   | ![#e1e2e3](https://via.placeholder.com/15/e1e2e3/000000?text=+) `#e1e2e3` |
|   1   | ![#56a0d1](https://via.placeholder.com/15/56a0d1/000000?text=+) `#56a0d1` |
|   2   | ![#204eba](https://via.placeholder.com/15/204eba/000000?text=+) `#204eba` |
|   3   | ![#d6e673](https://via.placeholder.com/15/d6e673/000000?text=+) `#d6e673` |
|   4   | ![#dbde28](https://via.placeholder.com/15/dbde28/000000?text=+) `#dbde28` |
|  5-   | ![#eba22d](https://via.placeholder.com/15/eba22d/000000?text=+) `#eba22d` |
|  5+   | ![#eba22d](https://via.placeholder.com/15/eba22d/000000?text=+) `#eba22d` |
|  6-   | ![#e62929](https://via.placeholder.com/15/e62929/000000?text=+) `#e62929` |
|  6+   | ![#e62929](https://via.placeholder.com/15/e62929/000000?text=+) `#e62929` |
|   7   | ![#a81d5b](https://via.placeholder.com/15/a81d5b/000000?text=+) `#a81d5b` |
| None  | ![#000000](https://via.placeholder.com/15/000000/000000?text=+) `#000000` |

### âš–ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](LICENSE)ä¸Šã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚
